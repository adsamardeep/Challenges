# 🍇 `totalFruit` – Maximum Number of Fruits in Two Baskets

## 📘 Problem Statement

You are given an array `fruits` where each element represents a type of fruit at a tree in a row.

You have **two baskets**, and each basket can only hold **one type** of fruit.

Your goal:  
**Pick the longest subarray** where there are **at most 2 types** of fruits.

You can only start picking from one tree and move forward (no going back).

---

### ✅ Example

```python
Input: fruits = [1, 2, 1, 2, 3]
Output: 4

# Explanation:
# Pick from index 0 to 3 → [1, 2, 1, 2] — 2 types only → max length = 4
```

---

## 🧠 Approach

Use the **sliding window** technique:

1. Move `end` forward, adding fruit types to a `dict` (with their counts).
2. If the window exceeds 2 fruit types, shrink the window from the left (`start`) until only 2 remain.
3. Update `max_len` at every valid step.

---

## 💡 Key Observations

- This is a classic **Longest Substring with At Most 2 Distinct Characters** problem.
- The dictionary `fruit_count` keeps track of current fruit types in the window.
- Each fruit type is like a character in a string.

---

## 📄 Code

```python
from collections import defaultdict

class Solution:
    def totalFruit(self, fruits: list[int]) -> int:
        start = 0
        max_len = 0
        fruit_count = defaultdict(int)

        for end in range(len(fruits)):
            fruit_count[fruits[end]] += 1

            while len(fruit_count) > 2:
                fruit_count[fruits[start]] -= 1
                if fruit_count[fruits[start]] == 0:
                    del fruit_count[fruits[start]]
                start += 1

            max_len = max(max_len, end - start + 1)

        return max_len
```

---

## 🕒 Complexity

- **Time**: O(n) — each fruit is added/removed from the window once.
- **Space**: O(1) — at most 3 keys in `fruit_count` at any time.

---

## 📂 Use Cases

- Longest substring with limited distinct items.
- Resource allocation with a limit on simultaneous types.
- Bandwidth throttling with limited channels.
```
