# Water Bottles Exchange

üìú **Problem Statement**  
You have `b` full water bottles. After drinking a bottle, you get an empty one. If you can exchange `n` empty bottles for 1 full bottle, compute the maximum number of bottles you can drink.

üîç **Example Input/Output**  
**Input**  
    b = 9, n = 3

**Output**  
    13

**Explanation**  
- Start with 9 full ‚Üí drink all 9 (9 bottles, 9 empty).  
- Exchange 9 empty for 3 full ‚Üí drink 3 (total 12, 3 empty).  
- Exchange 3 empty for 1 full ‚Üí drink 1 (total 13, 1 empty).  
- No further exchanges possible.  
Answer = 13.

**Input**  
    b = 15, n = 4

**Output**  
    19

**Explanation**  
Drink 15 bottles ‚Üí 15 empty. Exchange ‚Üí 3 full, drink 3 (18 total, 3 empty). Not enough empties left to exchange again. Answer = 18, wait check: Actually formula gives 15 + (15-1)//3 = 15 + 14//3 = 15 + 4 = 19. Correct.  

üß† **Approach (step-by-step)**  
1. Every time you drink a bottle, you earn an empty bottle.  
2. To maximize total, you want to repeatedly exchange empty bottles for full ones.  
3. Observing the process mathematically:  
   - Starting with `b` bottles, total drink count always equals `b` plus however many extra bottles you can get through exchanges.  
   - The number of additional bottles obtainable is `(b-1) // (n-1)`.  
   - Why? Each new bottle obtained via exchange consumes `n` empties but produces 1 new empty after drinking it. Net cost per additional bottle is `(n-1)` empties. Since you start with `b` empties after drinking `b`, you can get `(b-1)//(n-1)` extra.  
4. Final formula:  
   total = b + (b - 1) // (n - 1).

üíª **Code**  

    class Solution:
        def numWaterBottles(self, b: int, n: int) -> int:
            return b + (b - 1) // (n - 1)

‚è± **Complexity Analysis**  
- **Time:** O(1), just arithmetic.  
- **Space:** O(1).  

üß™ **Edge Cases**  
- `n = 2` (best possible exchange rate): For `b = 5`, formula ‚Üí `5 + (4)//1 = 9`. Manual: drink 5, 5 empties ‚Üí exchange 4 for 2 full, drink 2 (7 total, 2 empties left), exchange 2 for 1 full, drink 1 (8 total, 1 empty left). Actually that‚Äôs 8, but formula gave 9? Wait ‚Üí recheck: For n=2, each new bottle costs 1 net empty. With 5 empties, you can get 4 new bottles, so total 9. Yes, manual miscount missed that last 1 from remaining empties. Formula correct.  
- `b < n`: no exchanges possible, total = b. Formula: (b-1)//(n-1) = 0, so total = b.  
- Large `b` (e.g., 10^9): formula still O(1), Python handles big integers.  
- Invalid case: `n <= 1` is nonsensical (can't exchange ‚â§1 bottle for a new one). Assume input guarantees `n > 1`.  
