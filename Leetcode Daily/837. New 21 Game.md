# 🎲 Problem: New 21 Game

## 📜 Problem Statement
Alice plays a game similar to "21".  
She starts with **0 points**, and on each turn draws a random number from **1 → maxPts** (inclusive), each with equal probability.  

She stops drawing numbers once her score is at least **k**.  

Return the probability that Alice’s final score is **not greater than n**.

---

## 🔍 Example 1
**Input**
```python
n = 10
k = 1
maxPts = 10
```
**Explanation**
- Alice stops after the first draw since `k = 1`.
- She wins if her first draw ≤ 10 (always true).
- Probability = `1.0`.

**Output**
```
1.0
```

---

## 🔍 Example 2
**Input**
```python
n = 6
k = 1
maxPts = 10
```
**Explanation**
- Alice stops after the first draw.
- She wins if her first draw ≤ 6.
- Probability = `6 / 10 = 0.6`.

**Output**
```
0.6
```

---

## 🔍 Example 3
**Input**
```python
n = 21
k = 17
maxPts = 10
```
**Output**
```
0.73278 (approx.)
```

---

## 🧠 Approach
This problem is solved using **dynamic programming with sliding window**:
1. Define `dp[i]` as the probability that Alice’s score is exactly `i`.
2. For each score `i`, the probability comes from averaging the last `maxPts` probabilities.
3. Maintain a **sliding window sum** to compute probabilities efficiently.
4. When Alice’s score reaches at least `k`, she stops:
   - If `i < k`, update the window.
   - If `i ≥ k`, add the probability to the result.

---

## 💻 Code Implementation
```python
class Solution:
    def new21Game(self, n: int, k: int, maxPts: int) -> float:
        if k == 0 or n >= k - 1 + maxPts:
            return 1.0

        dp = [0.0] * maxPts
        dp[0] = 1.0

        window_sum = 1.0
        result = 0.0

        for i in range(1, n + 1):
            prob = window_sum / maxPts

            if i < k:
                window_sum += prob
            else:
                result += prob

            if i >= maxPts:
                window_sum -= dp[i % maxPts]

            dp[i % maxPts] = prob

        return result
```

---

## ⏱ Complexity Analysis
- **Time Complexity:** O(n) — iterate from `1 → n`.
- **Space Complexity:** O(maxPts) — store probabilities with sliding window.

---

## 🧪 Edge Cases
- `k = 0` → Always `1.0` (Alice never draws).
- `n` very large relative to `k` and `maxPts` → Always `1.0`.
- Small `n` and large `maxPts` → More probability mass goes beyond `n`.
