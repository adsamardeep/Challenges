# ğŸ· Count smooth descent periods in stock prices

## ğŸ“œ Problem Statement
Given a list of daily stock `prices`, count the number of **smooth descent periods**. A smooth descent period is a contiguous subarray where each next price is exactly 1 less than the previous day. Single-day periods also count as valid descent periods.

## ğŸ” Example Input/Output
**Input:**
```python
prices = [3, 2, 1, 4]
````

**Output:**

```python
7
```

**Explanation:**

* Descent runs: `[3,2,1]` â†’ length 3 contributes `3*4/2 = 6`
* `[4]` â†’ length 1 contributes `1`
* Total = `6 + 1 = 7`

## ğŸ§  Approach

1. Traverse the list using adjacent pairs of prices.
2. Maintain a running counter `tally` for the current smooth descent streak.
3. If the next price is exactly one less than the current price, extend the streak.
4. Otherwise:

   * Add the number of subarrays contributed by the current streak using the triangle number formula `k*(k+1)//2`,
   * Reset the streak length to 1.
5. After the loop, add the contribution of the final streak.
6. Return the accumulated total.

The triangle number formula efficiently counts all contiguous subarrays within a descent run.

## ğŸ’» Code 

```python
from typing import List
from itertools import pairwise

class Solution:
    def getDescentPeriods(self, prices: List[int]) -> int:

        tally, ans = 1, 0
        triangle = lambda x: x * (x + 1)//2

        for p1, p2 in pairwise(prices):
            if p2 == p1 - 1:
                tally+= 1
            else:
                ans+= triangle(tally)
                tally = 1
                
        ans+= triangle(tally)

        return  ans
```

## â± Complexity Analysis

* Time complexity: **O(n)**, where `n` is the number of price entries.
* Space complexity: **O(1)** extra space (ignoring input storage).

## ğŸ§ª Edge Cases

* Single-element list â†’ returns `1`.
* All prices strictly descending by 1 â†’ returns `n*(n+1)//2`.
* No adjacent prices differ by 1 â†’ each day is its own descent period.
* Repeated prices or drops greater than 1 â†’ correctly break descent streaks.
* Empty list â†’ behavior depends on caller; with no iteration, would return `0` if guarded externally.

```
```
