class Solution:
    def numberOfPairs(self, a: List[List[int]]) -> int:
        a.sort(key=lambda p: (p[0],-p[1]))
        res = 0
        for i,(_,y1) in enumerate(a):
            yMin = -inf
            for _,y2 in a[i+1:]:
                if yMin<y2<=y1:
                    res += 1
                    yMin = y2
                    if y1==y2: break # stop looping here

        return res