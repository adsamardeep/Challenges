# üè∑ Pyramid Transition Matrix Feasibility Checker

## üìú Problem Statement
Given a string `bottom` representing the bottom row of a pyramid and a list of allowed transitions, determine whether it is possible to build the pyramid all the way to the top. Each transition allows two adjacent blocks to form a block above them.

## üîç Example Input/Output
**Input:**
```python
bottom = "BCD"
allowed = ["BCG", "CDE", "GEA", "FFF"]
````

**Output:**

```python
True
```

## üß† Approach

1. Convert the `allowed` list into a mapping from each pair of characters to the set of characters that can be placed above them.
2. Use **DFS with backtracking** to try building the pyramid row by row.
3. Build the next row character by character by exploring all valid transitions.
4. Use a memoization set (`bad`) to prune states (rows) that are already known to be impossible.
5. If a row of length 1 is reached, the pyramid is successfully built.

## üíª Code 

```python
from typing import List
from collections import defaultdict

class Solution:
    def pyramidTransition(self, bottom: str, allowed: List[str]) -> bool:
        rules = defaultdict(set)
        for a, b, c in allowed:
            rules[a + b].add(c)

        bad = set()

        def dfs(row, idx, nxt):
            if len(row) == 1:
                return True

            if idx == len(row) - 1:
                if nxt in bad:
                    return False
                ok = dfs(nxt, 0, "")
                if not ok:
                    bad.add(nxt)
                return ok

            key = row[idx:idx + 2]
            for c in rules[key]:
                if dfs(row, idx + 1, nxt + c):
                    return True
            return False

        return dfs(bottom, 0, "")
```

## ‚è± Complexity Analysis

* **Time Complexity:** Exponential in the worst case due to backtracking, but significantly reduced by memoization.
* **Space Complexity:** `O(N)` for recursion depth and memoization, where `N` is the number of possible row states.

## üß™ Edge Cases

* No valid transitions for a given pair ‚Üí returns `False`
* Bottom length is already `1` ‚Üí returns `True`
* Duplicate or overlapping allowed rules
* Multiple possible transitions for the same pair

```
```
