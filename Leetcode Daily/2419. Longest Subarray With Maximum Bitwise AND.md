# longestSubarray - Longest Subarray with Maximum Bitwise AND

## ðŸ“˜ Problem Statement

Given an array `nums`, find the **length of the longest contiguous subarray** where the **bitwise AND of all elements** in the subarray is equal to the **maximum element** in the array.

Note: Since the bitwise AND of equal numbers is the number itself, this boils down to finding the **longest streak of the maximum number** in the array.

---

### âœ… Example

```python
Input:  nums = [1, 3, 3, 2, 3]
Output: 2

# Explanation:
# Max value = 3
# Longest continuous subarray of 3s = [3, 3] â†’ length = 2
```

---

## ðŸ§  Approach

### Step-by-step:

1. **Identify the Maximum Value**:
   - We want subarrays where all elements equal the max value.

2. **Count Maximum Streaks**:
   - Traverse the array.
   - Track the **current streak length** when encountering the max value.
   - If a different number appears, compare the streak to the `max_len` and reset.

3. **Handle Trailing Sequences**:
   - After the loop, make a final check in case the array ends with a valid streak.

---

## ðŸ’¡ Key Points

- **Time Complexity**: O(n)
- **Space Complexity**: O(1)

---

## ðŸ“„ Code

```python
from typing import List

class Solution:
    def longestSubarray(self, nums: List[int]) -> int:
        """
        Finds the length of the longest subarray with the maximum possible bitwise AND.
        """
        if not nums:
            return 0

        # Find max value in the array
        max_val = max(nums)

        max_len = 0
        current_len = 0

        # Traverse to count longest streaks of max_val
        for num in nums:
            if num == max_val:
                current_len += 1
            else:
                max_len = max(max_len, current_len)
                current_len = 0

        # Final check in case the last element was part of the streak
        return max(max_len, current_len)
```

---

## ðŸ“‚ Use Cases

This method is efficient and useful in:
- Finding patterns with a specific value.
- Bitwise operations where max-value identity is preserved.
- Contiguous subarray pattern detection.

```python
# Test
sol = Solution()
print(sol.longestSubarray([1, 3, 3, 2, 3]))  # Output: 2
```
