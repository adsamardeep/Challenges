# Remove Nodes from Linked List Based on a Value Set

ğŸ“œ **Problem Statement**  
You are given a linked list `head` and an integer list `nums`.  
Remove all nodes from the linked list whose values appear in `nums`, and return the modified listâ€™s new head.

ğŸ” **Example Input / Output**  
**Input**  
    nums = [1, 3, 5]  
    linked list = 1 â†’ 2 â†’ 3 â†’ 4 â†’ 5  

**Output**  
    2 â†’ 4  

**Explanation**  
Nodes with values `1`, `3`, and `5` appear in `nums`, so they are removed. Remaining linked list = `2 â†’ 4`.

ğŸ§  **Approach (step-by-step)**  
1. Convert `nums` into a **set** for O(1) lookups.  
2. Traverse the linked list and store all nodes in a list (`node_list`).  
3. Filter out nodes whose `val` exists in `nums`, keeping the rest in `refined_list`.  
4. Reconnect nodes in `refined_list` by updating their `.next` pointers.  
5. Return the head of the refined linked list (`refined_list[0]`).  

ğŸ’» **Code**  

    # Definition for singly-linked list.
    # class ListNode:
    #     def __init__(self, val=0, next=None):
    #         self.val = val
    #         self.next = next

    from typing import List, Optional

    class Solution:
        def modifiedList(self, nums: List[int], head: Optional[ListNode]) -> Optional[ListNode]:
            # Convert nums to set for fast lookup
            nums = set(nums)

            # Gather all nodes in a list
            node_list = []
            ptr = head
            while ptr is not None:
                node_list.append(ptr)
                ptr = ptr.next

            # Filter nodes not in nums
            refined_list = [node for node in node_list if node.val not in nums]

            # If no nodes left, return None
            if not refined_list:
                return None

            # Reconnect filtered nodes
            for i in range(len(refined_list) - 1):
                refined_list[i].next = refined_list[i + 1]

            # Last node points to None
            refined_list[-1].next = None

            # Return new head
            return refined_list[0]

â± **Complexity Analysis**  
- **Time:** O(n) â€” traverses the list once and rebuilds it.  
- **Space:** O(n) â€” stores nodes in auxiliary lists.  

ğŸ§ª **Edge Cases**  
| Case | Input | Output | Notes |
|------|--------|---------|-------|
| All nodes removed | nums=[1,2,3], list=1â†’2â†’3 | None | All filtered out |
| No nodes removed | nums=[10], list=1â†’2â†’3 | 1â†’2â†’3 | No matches |
| Empty list | head=None | None | Trivial case |
| Mixed values | nums=[2,4], list=1â†’2â†’3â†’4â†’5 | 1â†’3â†’5 | Works correctly |

